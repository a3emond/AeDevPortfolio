/* ======================================================
   SKILLS WALL – STRUCTURE
   ====================================================== */

.skills-wall {
    display: grid;

    /* Responsive, density-based grid (Vite-style) */
    grid-template-columns: repeat(
        auto-fit,
        minmax(72px, 1fr)
    );
    grid-auto-rows: 68px;

    gap: 18px;
    padding: 24px 18px;

    position: relative;
    overflow: hidden;
    border-radius: var(--r-md);
}

/* ------------------------------------------------------
   Infinite tapestry fade (top & bottom)
   Reduced aggression so grid stays readable
   ------------------------------------------------------ */

.skills-wall::before,
.skills-wall::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    height: 80px;
    pointer-events: none;
    z-index: 1;
}

.skills-wall::before {
    top: 0;
    background: linear-gradient(
            to bottom,
            var(--bg) 0%,
            transparent 90%
    );
}

.skills-wall::after {
    bottom: 0;
    background: linear-gradient(
            to top,
            var(--bg) 0%,
            transparent 90%
    );
}

/* ======================================================
   GRID CELLS (STRUCTURAL ONLY)
   ====================================================== */

.slot {
    background: none;
    border: none;
}

/* Inert cells — visible but quiet */
.slot.empty {
    pointer-events: none;
    opacity: 1;
}

.slot.empty::before {
    content: "";
    display: block;
    width: 56px;
    height: 56px;
    border-radius: 14px;
    margin: auto;

    background: linear-gradient(
            180deg,
            rgba(255, 255, 255, 0.04),
            rgba(255, 255, 255, 0.015)
    );

    box-shadow:
            inset 0 0 0 1px var(--border);
}

/* ======================================================
   SKILL BUTTON (NO FRAME, NO GLASS)
   ====================================================== */

.skill-btn {
    background: none;
    border: none;
    padding: 0;

    display: grid;
    place-items: center;

    cursor: pointer;
}

.skill-btn:focus {
    outline: none;
}

/* ======================================================
   SKILL BADGE (THE ONLY VISIBLE SHAPE)
   ====================================================== */

.skill-badge {
    position: relative;

    width: 56px;
    height: 56px;
    border-radius: 14px;

    display: grid;
    place-items: center;

    background: var(--bg-elev-1);

    box-shadow:
            0 0 0 1px var(--border),
            var(--shadow-sm);

    transition:
            transform 0.18s ease,
            box-shadow 0.18s ease,
            opacity 0.18s ease;
}

/* Icon */
.skill-badge img {
    width: 32px;
    height: 32px;
    display: block;
}

/* ======================================================
   HOVER / FOCUS (SUBTLE, PROFESSIONAL)
   ====================================================== */

.skill-btn:hover .skill-badge,
.skill-btn:focus-visible .skill-badge {
    transform: translateY(-2px);
    box-shadow:
            0 0 0 1px rgba(255, 255, 255, 0.18),
            var(--shadow-md);
}

/* ======================================================
   ACTIVE / DIMMED STATES (NO RESIZE)
   ====================================================== */

.skill-btn.is-active .skill-badge {
    box-shadow:
            0 0 0 1.5px var(--accent),
            var(--shadow-md);
}

.skill-btn.is-dimmed .skill-badge {
    opacity: 0.35;
}

/* ======================================================
   GLOW LAYER (THEME-AWARE FALLBACK)
   ====================================================== */

/*
  Glow logic:
  - If icon color extraction ran → --glow-r/g/b exist
  - Else → fallback to theme accent RGB
  - Only active icons glow
*/

.skill-badge::after {
    content: "";
    position: absolute;
    inset: -18px;

    pointer-events: none;
    z-index: -1;

    background: radial-gradient(
            80px 80px at 50% 50%,
            rgba(
                    var(--glow-r, var(--accent-r, 108)),
                    var(--glow-g, var(--accent-g, 242)),
                    var(--glow-b, var(--accent-b, 194)),
                    0.45
            ),
            transparent 65%
    );

    filter: blur(14px);
    opacity: 0;
    transition: opacity 0.18s ease;
}

.skill-btn.is-active .skill-badge::after {
    opacity: 1;
}

/* ======================================================
   THEME → RGB BRIDGE (FALLBACK GLOW)
   ====================================================== */

/* Dark theme (default) */
:root {
    --accent-r: 108;
    --accent-g: 242;
    --accent-b: 194;
}

/* Light theme */
[data-theme="light"] {
    --accent-r: 79;
    --accent-g: 163;
    --accent-b: 209;
}
